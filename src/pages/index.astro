---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Enclava: Private AI without trade‑offs">
  <!-- Navigation -->
  <nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="container">
      <div class="nav-content">
        <div class="logo">
          <a href="/" aria-label="Enclava - Home">
            <span class="gradient-text">Enclava</span>
          </a>
        </div>
        <div class="nav-links" role="menubar">
          <a href="#features" role="menuitem">Features</a>
          <a href="#why-choose" role="menuitem">Why Enclava</a>
          <div class="nav-dropdown" role="menuitem" aria-haspopup="true">
            <a href="#" class="nav-dropdown-toggle" aria-expanded="false" role="button">Products <span class="dropdown-arrow" aria-hidden="true">▾</span></a>
            <div class="nav-dropdown-menu" role="menu">
              <a href="/products/self-hosted" class="nav-dropdown-item" role="menuitem">Self hosted</a>
              <a href="/products/managed-cloud" class="nav-dropdown-item" role="menuitem">Managed cloud <span style="opacity: 0.6; font-size: 0.85em;">(coming soon)</span></a>
            </div>
          </div>
          <div class="nav-dropdown" role="menuitem" aria-haspopup="true">
            <a href="#" class="nav-dropdown-toggle" aria-expanded="false" role="button">Services <span class="dropdown-arrow" aria-hidden="true">▾</span></a>
            <div class="nav-dropdown-menu" role="menu">
              <a href="/services/custom-deployment" class="nav-dropdown-item" role="menuitem">Custom deployment</a>
              <a href="/services/integration-development" class="nav-dropdown-item" role="menuitem">Integration development</a>
            </div>
          </div>
          <div class="nav-dropdown" role="menuitem" aria-haspopup="true">
            <a href="#" class="nav-dropdown-toggle" aria-expanded="false" role="button">Resources <span class="dropdown-arrow" aria-hidden="true">▾</span></a>
            <div class="nav-dropdown-menu" role="menu">
              <a href="https://docs.enclava.ai" target="_blank" rel="noopener noreferrer" class="nav-dropdown-item" role="menuitem">Documentation</a>
              <a href="https://github.com/enclava-ai/enclava" target="_blank" rel="noopener noreferrer" class="nav-dropdown-item" role="menuitem">Github</a>
            </div>
          </div>
          <a href="#contact" class="btn-primary" role="button">Get started</a>
        </div>
        <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false" type="button">
          <span class="hamburger-line" aria-hidden="true"></span>
          <span class="hamburger-line" aria-hidden="true"></span>
          <span class="hamburger-line" aria-hidden="true"></span>
        </button>
      </div>
      <div class="mobile-menu" role="menu" aria-label="Mobile navigation menu">
        <a href="#features" class="mobile-menu-item" role="menuitem">Features</a>
        <a href="#why-choose" class="mobile-menu-item" role="menuitem">Why Enclava</a>
        <div class="mobile-menu-section">
          <div class="mobile-menu-label">Products</div>
          <a href="/products/self-hosted" class="mobile-menu-item mobile-menu-subitem" role="menuitem">Self hosted</a>
          <a href="/products/managed-cloud" class="mobile-menu-item mobile-menu-subitem" role="menuitem">Managed cloud <span style="opacity: 0.6; font-size: 0.85em;">(coming soon)</span></a>
        </div>
        <div class="mobile-menu-section">
          <div class="mobile-menu-label">Services</div>
          <a href="/services/custom-deployment" class="mobile-menu-item mobile-menu-subitem" role="menuitem">Custom deployment</a>
          <a href="/services/integration-development" class="mobile-menu-item mobile-menu-subitem" role="menuitem">Integration development</a>
        </div>
        <div class="mobile-menu-section">
          <div class="mobile-menu-label">Resources</div>
          <a href="https://docs.enclava.ai" target="_blank" rel="noopener noreferrer" class="mobile-menu-item mobile-menu-subitem" role="menuitem">Documentation</a>
          <a href="https://github.com/enclava-ai/enclava" target="_blank" rel="noopener noreferrer" class="mobile-menu-item mobile-menu-subitem" role="menuitem">Github</a>
        </div>
        <a href="#contact" class="mobile-menu-item btn-primary" role="button">Get started</a>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <main>
    <section class="hero" role="banner" aria-labelledby="hero-title">
      <div class="hero-container">
        <div class="hero-content">
          <h1 id="hero-title" class="hero-title">
            Making Private AI Practical
          </h1>
          <p class="hero-description">
            Run AI on sensitive data—without exposing it. Enclava executes your prompts, tools, and RAG pipelines inside confidential computing enclaves so data stays encrypted in use, at rest, and in transit.
          </p>
          <div class="hero-actions">
            <a href="#contact" class="btn-primary" role="button" aria-describedby="deploy-desc">Deploy self‑hosted</a>
            <a href="#waitlist" class="btn-primary" role="button" aria-describedby="waitlist-desc">Join cloud waitlist</a>
            <a href="#features" class="btn-secondary" role="button" aria-describedby="features-desc">Explore features</a>
          </div>
          <p class="hero-subnote" style="margin-top:16px;opacity:.7;font-size:.95rem">
            <span aria-label="Key benefits">Open source • Privacy‑first architecture • On‑prem or private cloud</span>
          </p>
          <!-- Screen reader descriptions -->
          <div class="sr-only">
            <p id="deploy-desc">Deploy Enclava open-source on your own infrastructure</p>
            <p id="waitlist-desc">Join waitlist for our fully managed cloud platform</p>
            <p id="features-desc">Discover Enclava's privacy-focused AI features</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Overview -->
    <section id="features" class="features-overview section" role="main" aria-labelledby="features-title">
      <div class="container">
        <header>
          <h2 id="features-title" class="section-title">
            What you can build
          </h2>
          <p class="section-subtitle">
            Real workloads teams run on Enclava today—secure by default, developer‑friendly by design.
          </p>
        </header>
      
        <div class="features-grid" role="region" aria-label="Product features">
          <!-- AI Chatbots -->
          <article class="feature-card card" role="article" aria-labelledby="chatbots-title">
            <header>
              <h3 id="chatbots-title">AI Chatbots</h3>
            </header>
            <ul role="list" aria-label="AI chatbot features">
              <li>Assistants with access to your knowledge base</li>
              <li>Connect to files, wikis, databases, and internal tools</li>
              <li>Create personas per team or use case with policy controls</li>
              <li>Prompts, history, and embeddings remain encrypted</li>
            </ul>
          </article>

          <!-- Document Processing -->
          <article class="feature-card card" role="article" aria-labelledby="documents-title">
            <header>
              <h3 id="documents-title">Document Processing</h3>
            </header>
            <ul role="list" aria-label="Document processing features">
              <li>Ingest PDFs, Office docs, emails, and text at scale</li>
              <li>Ask questions and get cited answers with source links</li>
              <li>Organize into secure collections with role‑based access</li>
              <li>Sub‑second semantic search across your private corpus</li>
            </ul>
          </article>

          <!-- Plugins & Integrations -->
          <article class="feature-card card" role="article" aria-labelledby="plugins-title">
            <header>
              <h3 id="plugins-title">Plugins & Integrations</h3>
            </header>
            <ul role="list" aria-label="Plugin and integration features">
              <li>Build secure tools with a lightweight SDK</li>
              <li>Key budgeting, rate limits, and granular access per workspace</li>
              <li>Drop‑in connectors for Slack, Jira, GitHub, Notion, and more</li>
            </ul>
          </article>

          <!-- Confidential Computing -->
          <article class="feature-card card" role="article" aria-labelledby="confidential-title">
            <header>
              <h3 id="confidential-title">Confidential Computing</h3>
            </header>
            <ul role="list" aria-label="Confidential computing features">
              <li>Run models and RAG inside trusted execution environments (TEEs)</li>
              <li>Memory and storage are encrypted by default</li>
              <li>Remote attestation to verify code and environment</li>
              <li>Operational model where even we can't access your data</li>
            </ul>
          </article>

          <!-- Workflows -->
          <article class="feature-card card" role="article" aria-labelledby="workflows-title">
            <header>
              <h3 id="workflows-title">Workflows</h3>
            </header>
            <ul role="list" aria-label="Workflow features">
              <li>Orchestrate multi‑step agents, tools, and retrieval</li>
              <li>Parallel execution, retries, and idempotency built‑in</li>
              <li>Transform data between steps with typed adapters</li>
              <li>Schedule runs or trigger via webhooks</li>
            </ul>
          </article>

          <!-- Developer APIs -->
          <article class="feature-card card" role="article" aria-labelledby="apis-title">
            <header>
              <h3 id="apis-title">Developer APIs</h3>
            </header>
            <ul role="list" aria-label="Developer API features">
              <li>OpenAI‑compatible endpoints for chat, RAG, and embeddings</li>
              <li>REST APIs for everything, with simple auth</li>
              <li>Usage, cost, and performance visibility per project</li>
              <li>Extend the platform with custom plugins</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

  <!-- Perfect For Section -->
  <section class="perfect-for section">
    <div class="container">
      <div class="perfect-for-content">
        <h2 class="perfect-for-title">
          A great fit when you have…
        </h2>
        <div class="perfect-for-list">
          <div class="perfect-for-item">
            <div class="check-icon">✓</div>
            <div class="item-content">
              <h3>PII, PHI, or financial data</h3>
              <p>Handle sensitive personal information with confidence</p>
            </div>
          </div>
          <div class="perfect-for-item">
            <div class="check-icon">✓</div>
            <div class="item-content">
              <h3>Strict privacy requirements</h3>
              <p>Meet regulatory standards without compromising on functionality</p>
            </div>
          </div>
          <div class="perfect-for-item">
            <div class="check-icon">✓</div>
            <div class="item-content">
              <h3>Compliance & audit obligations</h3>
              <p>Built-in compliance features for enterprise governance</p>
            </div>
          </div>
          <div class="perfect-for-item">
            <div class="check-icon">✓</div>
            <div class="item-content">
              <h3>Proprietary information you want to keep confidential</h3>
              <p>Protect your intellectual property and trade secrets</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Enclava -->
  <section id="why-choose" class="why-choose section">
    <div class="container">
      <h2 class="section-title">
        Why Enclava
      </h2>
      <div class="why-choose-grid">
        <div class="why-card-large">
          <div class="why-number">01</div>
          <h3>Privacy‑first architecture</h3>
          <p>End-to-end encryption in use, at rest, and in transit. Your data never leaves your control, even during AI processing.</p>
        </div>
        <div class="why-card-large">
          <div class="why-number">02</div>
          <h3>Verifiable security</h3>
          <p>Remote attestation and cryptographic proof that your code runs in genuine secure enclaves. Trust, but verify.</p>
        </div>
        <div class="why-card-large">
          <div class="why-number">03</div>
          <h3>Drop‑in compatibility</h3>
          <p>OpenAI‑compatible APIs and familiar developer tools. Migrate your existing AI workflows in minutes, not months.</p>
        </div>
        <div class="why-card-large">
          <div class="why-number">04</div>
          <h3>Enterprise‑ready</h3>
          <p>Built-in user management, audit logs, usage controls, and enterprise SSO. Scale from prototype to production.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section - SEO Optimized -->
  <section id="faq" class="faq section" itemscope itemtype="https://schema.org/FAQPage">
    <div class="container">
      <div class="faq-content">
        <h2 class="gradient-text">Frequently Asked Questions About Private AI</h2>
        <p class="faq-intro">Learn more about confidential computing, secure AI deployment, and how Enclava protects your sensitive data.</p>
        
        <div class="faq-grid">
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">What is confidential computing for AI?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Confidential computing uses hardware-based Trusted Execution Environments (TEEs) like Intel SGX and AMD SEV to protect AI models and data during processing. This ensures complete privacy even from cloud providers, system administrators, and potential attackers.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">How does Enclava ensure HIPAA compliance for healthcare AI?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Enclava provides end-to-end encryption, comprehensive audit logging, role-based access controls, and runs all processing in isolated TEEs. This meets all HIPAA technical safeguards for protected health information (PHI), enabling secure AI processing of medical records, patient data, and clinical research.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">Can I self-host Enclava on my own infrastructure?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Yes, Enclava is open source and can be self-hosted on your infrastructure. We provide Docker images, Kubernetes manifests, Terraform modules, and comprehensive deployment guides for on-premise, private cloud, or hybrid deployments.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">What's the difference between Enclava and VPN encryption?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">VPNs only encrypt data in transit between endpoints. Enclava uses TEEs to encrypt data during processing (in use), in addition to encryption at rest and in transit, providing complete protection throughout the entire AI pipeline including model inference and RAG operations.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">Which AI models and LLMs does Enclava support?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Enclava supports any ONNX-compatible model including Llama 2/3, Mistral, Claude, GPT models, and custom fine-tuned models. Our API is OpenAI-compatible for easy integration with existing applications using LangChain, LlamaIndex, or direct API calls.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">How does secure RAG (Retrieval-Augmented Generation) work in Enclava?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Enclava's secure RAG pipelines process documents, embeddings, and vector searches either on your own infrastructure (self hosted) or within TEEs(managed cloud). Your knowledge base remains encrypted, and retrieval operations happen in isolated enclaves, ensuring that sensitive documents are never exposed during augmentation.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">Is Enclava suitable for financial services and PCI DSS compliance?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Yes, Enclava's architecture supports PCI DSS requirements with encrypted processing, access controls, audit logging, and network segmentation. Financial institutions can process payment data, customer information, and transaction records with AI while maintaining compliance.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">What's the performance impact of using confidential computing?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Modern TEE implementations like Intel TDX and AMD SEV-SNP have minimal overhead (typically 5-15%) for most AI workloads. Enclava optimizes enclave operations and supports GPU acceleration where available, ensuring practical performance for production use cases.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">Can Enclava integrate with existing vector databases?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">Yes, Enclava uses popular vector database Qdrant. It supports externally managed collections so you can use your own RAG pipeline with Enclava.</p>
            </div>
          </div>
          
          <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
            <h3 itemprop="name">How do I get started with Enclava?</h3>
            <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
              <p itemprop="text">You can start with our open-source self-hosted version on GitHub, join the waitlist for our managed cloud service, or book a consultation for custom deployment. We offer comprehensive documentation, deployment guides, and professional services to help you implement private AI.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Waitlist Section -->
  <section id="waitlist" class="waitlist section">
    <div class="container">
      <div class="waitlist-content">
        <h2>
          Join the Enclava Cloud waitlist
        </h2>
        <p>Get early access to our <strong>fully managed cloud platform</strong>. No infrastructure setup, no maintenance—just secure private AI ready to use.</p>

        <div class="waitlist-form">
          <form id="waitlist-form" class="email-signup">
            <input type="email" placeholder="Enter your email for cloud access" class="email-input" name="email" required>
            <!-- Honeypot field for bot detection (hidden from users) -->
            <input type="text" name="honeypot" class="honeypot" tabindex="-1" autocomplete="off">
            <button type="submit" class="btn-primary">
              <span class="button-text">Join cloud waitlist</span>
              <span class="loading-spinner" style="display: none;">⟳</span>
            </button>
          </form>
          <div id="form-message" class="form-message" style="display: none;"></div>
        </div>
        <p class="waitlist-note">Cloud platform only. For self-hosted options, see deployment section below.</p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section id="contact" class="cta section">
    <div class="container">
      <div class="cta-content">
        <h2>
          Get started with Enclava
        </h2>
        <p>Choose the deployment option that works best for your team and security requirements.</p>
        <div class="deployment-options">
          <div class="deployment-option">
            <div class="option-header">
              <h3>Self-Hosted</h3>
              <span class="option-badge">Open Source</span>
            </div>
            <p>Deploy Enclava on your own infrastructure with full control and customization.</p>
            <a href="https://github.com/enclava-ai/enclava" class="btn-primary">Deploy self‑hosted</a>
          </div>
          <div class="deployment-option">
            <div class="option-header">
              <h3>Managed Cloud</h3>
              <span class="option-badge">Coming Soon</span>
            </div>
            <p>Fully managed platform with zero setup. Enterprise-grade security in the cloud.</p>
            <a href="#waitlist" class="btn-primary">Join cloud waitlist</a>
          </div>
          <div class="deployment-option">
            <div class="option-header">
              <h3>Custom Deployment</h3>
              <span class="option-badge">Professional Services</span>
            </div>
            <p>Need custom integrations, migration help, or dedicated support? Let's talk.</p>
            <a href="https://cal.com/aljaz/enclava" class="btn-primary">Book consultation</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <span class="gradient-text">Enclava</span>
        </div>
        <div class="footer-social">
          <a href="https://github.com/enclava-ai" target="_blank" class="social-link" aria-label="GitHub">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
            </svg>
          </a>
          <a href="https://www.linkedin.com/company/enclava-ai/" target="_blank" class="social-link" aria-label="LinkedIn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
        </div>
      </div>
      <div class="footer-copyright">
        <p>&copy; 2025 All rights reserved by Codepnx Technologies - FZCO</p>
      </div>
    </div>
  </footer>
</BaseLayout>

<style>
  /* Navigation */
  .nav { position: fixed; top: 0; left: 0; right: 0; background: rgba(10, 15, 28, 0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.1); z-index: 1000; }
  .nav-content { display: flex; justify-content: space-between; align-items: center; padding: 16px 0; }
  .logo { font-size: 24px; font-weight: 700; }
  .nav-links { 
    display: flex; 
    gap: 24px; 
    align-items: center; 
  }
  
  .nav-links > a:not(.btn-primary) { 
    color: #ffffff; 
    text-decoration: none; 
    font-weight: 500; 
    transition: color 0.3s ease; 
    padding: 12px 16px;
    border-radius: 8px;
    white-space: nowrap;
  }
  
  .nav-links > a:not(.btn-primary):hover { 
    color: #00d4ff; 
    background: rgba(0, 212, 255, 0.05);
  }

  /* Navigation Dropdown */
  .nav-dropdown { 
    position: relative; 
    display: inline-block;
  }
  
  .nav-dropdown-toggle { 
    color: #ffffff; 
    text-decoration: none; 
    font-weight: 500; 
    transition: color 0.3s ease; 
    cursor: pointer; 
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border-radius: 8px;
    white-space: nowrap;
  }
  
  .nav-dropdown-toggle:hover { 
    color: #00d4ff; 
    background: rgba(0, 212, 255, 0.05);
  }
  
  .dropdown-arrow { 
    font-size: 0.8em; 
    margin-left: 8px; 
    transition: transform 0.3s ease; 
    display: inline-block;
  }
  
  .nav-dropdown.active .dropdown-arrow { 
    transform: rotate(180deg); 
  }
  
  .nav-dropdown-menu { 
    position: absolute; 
    top: calc(100% + 12px); 
    left: 0; 
    background: rgba(10, 15, 28, 0.98); 
    backdrop-filter: blur(15px); 
    border: 1px solid rgba(255, 255, 255, 0.15); 
    border-radius: 12px; 
    min-width: 220px; 
    padding: 8px 0; 
    opacity: 0; 
    visibility: hidden; 
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
    z-index: 1001;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    pointer-events: none;
    transform: translateY(-10px);
  }
  
  .nav-dropdown.active .nav-dropdown-menu { 
    opacity: 1; 
    visibility: visible; 
    transform: translateY(0);
    pointer-events: auto;
  }
  
  .nav-dropdown-item { 
    display: block; 
    padding: 12px 20px; 
    color: rgba(255, 255, 255, 0.9); 
    text-decoration: none; 
    font-weight: 400; 
    transition: all 0.3s ease; 
    white-space: nowrap;
  }
  
  .nav-dropdown-item:hover { 
    color: #00d4ff; 
    background: rgba(0, 212, 255, 0.1); 
    padding-left: 24px;
  }
  
  .nav-dropdown-item:first-child { 
    border-radius: 8px 8px 0 0; 
  }
  
  .nav-dropdown-item:last-child { 
    border-radius: 0 0 8px 8px; 
  }
  
  /* Position dropdowns to avoid overlap */
  .nav-dropdown:nth-child(3) .nav-dropdown-menu { 
    left: 0;
  }
  
  .nav-dropdown:nth-child(4) .nav-dropdown-menu { 
    left: -50%;
  }
  
  .nav-dropdown:nth-child(5) .nav-dropdown-menu { 
    left: -100%;
  }

  /* Mobile Navigation */
  .mobile-menu-toggle { display: none; flex-direction: column; justify-content: space-around; width: 24px; height: 24px; background: transparent; border: none; cursor: pointer; padding: 0; z-index: 1001; }
  .hamburger-line { width: 100%; height: 2px; background: #ffffff; transition: all 0.3s ease; }
  .mobile-menu-toggle.active .hamburger-line:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
  .mobile-menu-toggle.active .hamburger-line:nth-child(2) { opacity: 0; }
  .mobile-menu-toggle.active .hamburger-line:nth-child(3) { transform: rotate(-45deg) translate(7px, -6px); }
  .mobile-menu { 
    display: none; 
    position: absolute; 
    top: 100%; 
    left: 0; 
    right: 0; 
    background: rgba(10, 15, 28, 0.98); 
    backdrop-filter: blur(15px); 
    border-top: 1px solid rgba(255, 255, 255, 0.1); 
    padding: 20px 0; 
    z-index: 1000; 
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    border-radius: 0 0 12px 12px;
  }
  
  .mobile-menu.active { 
    display: block; 
  }
  
  .mobile-menu-item { 
    display: block; 
    padding: 16px 24px; 
    color: #ffffff; 
    text-decoration: none; 
    font-weight: 500; 
    transition: all 0.3s ease; 
    border-bottom: 1px solid rgba(255, 255, 255, 0.05); 
  }
  
  .mobile-menu-item:not(.btn-primary):hover { 
    color: #00d4ff; 
    background: rgba(0, 212, 255, 0.1); 
    padding-left: 28px;
  }
  
  .mobile-menu-item.btn-primary { 
    margin: 20px 24px 8px; 
    text-align: center; 
    border-radius: 8px; 
    border-bottom: none; 
    padding: 16px 24px;
  }
  
  .mobile-menu-section { 
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
    margin-bottom: 8px;
  }
  
  .mobile-menu-label { 
    padding: 16px 24px 8px; 
    color: rgba(255, 255, 255, 0.7); 
    font-weight: 600; 
    font-size: 0.85rem; 
    text-transform: uppercase; 
    letter-spacing: 0.8px; 
    border-bottom: none; 
    background: rgba(0, 212, 255, 0.05);
  }
  
  .mobile-menu-subitem { 
    padding-left: 48px; 
    color: rgba(255, 255, 255, 0.9); 
    font-size: 0.95rem; 
    border-bottom: 1px solid rgba(255, 255, 255, 0.05); 
    font-weight: 400;
    border-left: 2px solid rgba(0, 212, 255, 0.2);
  }
  
  .mobile-menu-subitem:hover {
    border-left-color: #00d4ff;
    padding-left: 52px;
  }

  /* Hero Section */
  .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative; overflow: hidden; }
  .hero::before { content: ''; position: absolute; top: 20%; left: 10%; width: 300px; height: 300px; background: radial-gradient(circle, rgba(0, 212, 255, 0.06) 0%, transparent 70%); border-radius: 50%; filter: blur(40px); z-index: 1; }
  .hero::after { content: ''; position: absolute; bottom: 20%; right: 15%; width: 200px; height: 200px; background: radial-gradient(circle, rgba(0, 255, 136, 0.04) 0%, transparent 70%); border-radius: 50%; filter: blur(30px); z-index: 1; }
  .hero-container { max-width: 900px; margin: 0 auto; padding: 0 40px; position: relative; z-index: 2; }
  .hero-content { max-width: 680px; margin: 0 auto; }
  .hero-title { font-size: 4.2rem; font-weight: 600; line-height: 1.08; margin-bottom: 24px; letter-spacing: -0.025em; background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.8) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .hero-description { font-size: 1.35rem; line-height: 1.55; color: rgba(255, 255, 255, 0.75); margin-bottom: 40px; font-weight: 400; max-width: 580px; margin-left: auto; margin-right: auto; }
  .hero-actions { display: flex; gap: 20px; justify-content: center; align-items: center; }
  .btn-secondary { background: transparent; color: rgba(255, 255, 255, 0.9); padding: 16px 32px; border: none; border-radius: 8px; font-weight: 500; font-size: 16px; text-decoration: none; transition: all 0.2s ease; }
  .btn-secondary:hover { color: #ffffff; background: rgba(255, 255, 255, 0.05); }

  /* Sections */
  .section { position: relative; overflow: hidden; }
  .section:nth-child(even) { background: linear-gradient(180deg, transparent 0%, rgba(255, 255, 255, 0.01) 50%, transparent 100%); }
  .section-title { font-size: 2.8rem; font-weight: 700; text-align: center; margin-bottom: 24px; letter-spacing: -0.02em; background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.85) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .section-subtitle { font-size: 1.25rem; text-align: center; color: rgba(255, 255, 255, 0.7); max-width: 720px; margin: 0 auto 80px; line-height: 1.6; font-weight: 400; }

  .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 40px 32px; margin-top: 80px; position: relative; }
  .feature-card { text-align: left; transform: translateY(0); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; }
  .feature-card:nth-child(even) { transform: translateY(20px); }
  .feature-card:nth-child(3n) { transform: translateY(10px); }
  .feature-card:hover { transform: translateY(-8px); }
  .feature-card:nth-child(even):hover { transform: translateY(12px); }
  .feature-card:nth-child(3n):hover { transform: translateY(2px); }
  .feature-icon { width: 64px; height: 64px; margin-bottom: 24px; position: relative; }
  .feature-card h3 { font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; color: #ffffff; }
  .feature-card ul { list-style: none; }
  .feature-card li { margin-bottom: 12px; padding-left: 20px; position: relative; opacity: 0.9; line-height: 1.5; }
  .feature-card li::before { content: '→'; position: absolute; left: 0; color: #00ff88; font-weight: bold; }

  /* Perfect For Section */
  .perfect-for { padding: 120px 0; background: linear-gradient(135deg, rgba(0, 212, 255, 0.02) 0%, rgba(0, 255, 136, 0.02) 100%); }
  .perfect-for-content { max-width: 800px; margin: 0 auto; text-align: center; }
  .perfect-for-title { font-size: 3rem; font-weight: 700; margin-bottom: 60px; background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.85) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .perfect-for-list { display: flex; flex-direction: column; gap: 40px; margin-top: 60px; }
  .perfect-for-item { display: flex; align-items: flex-start; gap: 24px; text-align: left; padding: 32px; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 16px; transition: all 0.3s ease; }
  .perfect-for-item:hover { background: rgba(255, 255, 255, 0.05); border-color: rgba(0, 212, 255, 0.3); transform: translateY(-2px); }
  .check-icon { display: flex; align-items: center; justify-content: center; width: 48px; height: 48px; background: linear-gradient(135deg, #00d4ff, #00ff88); border-radius: 50%; color: #0a0f1c; font-weight: 900; font-size: 1.4rem; flex-shrink: 0; }
  .item-content h3 { font-size: 1.4rem; font-weight: 600; color: #ffffff; margin-bottom: 8px; }
  .item-content p { color: rgba(255, 255, 255, 0.7); font-size: 1.1rem; line-height: 1.5; margin: 0; }

  /* Why Choose Section */
  .why-choose { padding: 120px 0; }
  .why-choose-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(480px, 1fr)); gap: 48px; margin-top: 80px; }
  .why-card-large { padding: 48px 40px; background: linear-gradient(135deg, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0.01) 100%); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; position: relative; transition: all 0.4s ease; overflow: hidden; }
  .why-card-large::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(0, 212, 255, 0.5) 50%, transparent 100%); }
  .why-card-large:hover { transform: translateY(-8px); background: linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%); border-color: rgba(0, 212, 255, 0.3); }
  .why-number { display: inline-flex; align-items: center; justify-content: center; width: 56px; height: 56px; background: linear-gradient(135deg, #00d4ff, #00ff88); border-radius: 16px; color: #0a0f1c; font-weight: 900; font-size: 1.5rem; margin-bottom: 24px; }
  .why-card-large h3 { font-size: 1.6rem; font-weight: 700; color: #ffffff; margin-bottom: 16px; line-height: 1.3; }
  .why-card-large p { color: rgba(255, 255, 255, 0.75); font-size: 1.1rem; line-height: 1.6; margin: 0; }

  /* FAQ Section */
  .faq { padding: 120px 0; background: radial-gradient(ellipse at center, rgba(0, 212, 255, 0.05) 0%, transparent 70%); }
  .faq-content { max-width: 1200px; margin: 0 auto; }
  .faq h2 { font-size: 2.5rem; font-weight: 700; margin-bottom: 20px; text-align: center; }
  .faq-intro { text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 1.1rem; margin-bottom: 60px; max-width: 700px; margin-left: auto; margin-right: auto; }
  .faq-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 32px; }
  .faq-item { padding: 32px; background: linear-gradient(135deg, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0.01) 100%); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; transition: all 0.3s ease; }
  .faq-item:hover { transform: translateY(-2px); background: linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%); border-color: rgba(0, 212, 255, 0.2); }
  .faq-item h3 { font-size: 1.2rem; font-weight: 600; margin-bottom: 16px; color: #00d4ff; }
  .faq-item p { color: rgba(255, 255, 255, 0.8); line-height: 1.7; font-size: 1rem; }
  @media (max-width: 1024px) { .faq-grid { grid-template-columns: 1fr; } }

  /* Waitlist Section */
  .waitlist { padding: 120px 0; text-align: center; }
  .waitlist-content { max-width: 600px; margin: 0 auto; }
  .waitlist h2 { font-size: 2.5rem; font-weight: 700; margin-bottom: 20px; background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.85) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .waitlist p { font-size: 1.2rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 40px; line-height: 1.6; }
  .waitlist-form { margin: 40px 0; }
  .email-signup { display: flex; gap: 16px; max-width: 400px; margin: 0 auto; }
  .email-input { flex: 1; padding: 16px 20px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: #ffffff; font-size: 16px; outline: none; transition: all 0.3s ease; }
  .email-input::placeholder { color: rgba(255, 255, 255, 0.5); }
  .email-input:focus { border-color: #00d4ff; background: rgba(255, 255, 255, 0.08); }
  .waitlist-note { font-size: 0.9rem; color: rgba(255, 255, 255, 0.5); margin-top: 20px; }
  
  /* Cloud Features */
  .cloud-features { display: flex; justify-content: center; gap: 24px; margin: 32px 0; flex-wrap: wrap; }
  .feature-highlight { display: flex; align-items: center; gap: 8px; padding: 12px 20px; background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 24px; color: rgba(255, 255, 255, 0.9); font-size: 0.95rem; font-weight: 500; }
  
  /* Form feedback styles */
  .form-message { margin-top: 16px; padding: 12px 20px; border-radius: 6px; font-size: 0.95rem; text-align: center; }
  .form-message.success { background: rgba(0, 255, 136, 0.1); color: #00ff88; border: 1px solid rgba(0, 255, 136, 0.3); }
  .form-message.error { background: rgba(255, 82, 82, 0.1); color: #ff5252; border: 1px solid rgba(255, 82, 82, 0.3); }
  .loading-spinner { animation: spin 1s linear infinite; }
  @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  
  /* Honeypot field (hidden from users but visible to bots) */
  .honeypot { position: absolute; left: -9999px; opacity: 0; height: 0; width: 0; pointer-events: none; }

  /* CTA Section */
  .cta { padding: 120px 0; text-align: center; }
  .cta-content { max-width: 1200px; margin: 0 auto; }
  .cta h2 { font-size: 3rem; font-weight: 700; margin-bottom: 20px; background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.85) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .cta p { font-size: 1.2rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 60px; line-height: 1.6; }
  
  /* Deployment Options */
  .deployment-options { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 32px; margin-top: 60px; }
  .deployment-option { padding: 40px 32px; background: linear-gradient(135deg, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0.01) 100%); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; text-align: left; transition: all 0.3s ease; position: relative; overflow: hidden; }
  .deployment-option::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent 0%, rgba(0, 212, 255, 0.3) 50%, transparent 100%); }
  .deployment-option:hover { transform: translateY(-4px); background: linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%); border-color: rgba(0, 212, 255, 0.3); }
  .option-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
  .option-header h3 { font-size: 1.4rem; font-weight: 700; color: #ffffff; margin: 0; }
  .option-badge { padding: 6px 12px; background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3); border-radius: 12px; color: #00ff88; font-size: 0.8rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
  .deployment-option p { color: rgba(255, 255, 255, 0.7); font-size: 1rem; line-height: 1.5; margin-bottom: 24px; }
  .deployment-option .btn-primary { width: 100%; justify-content: center; }
  
  /* Screen reader only content */
  .sr-only {
    position: absolute;
    left: -9999px;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
    white-space: nowrap;
  }

  /* Responsive adjustments */
  /* Enhanced Mobile Responsiveness */
  @media (max-width: 768px) {
    /* Navigation Mobile Improvements */
    .nav-links { display: none; }
    .mobile-menu-toggle { display: flex; }
    
    /* Hide desktop dropdowns on mobile */
    .nav-dropdown-menu { 
      display: none !important; 
      opacity: 0 !important; 
      visibility: hidden !important; 
    }
    .nav-content { padding: 12px 0; }
    
    /* Hero Section Mobile */
    .hero { min-height: 100vh; padding: 80px 0 40px; }
    .hero-container { padding: 0 20px; }
    .hero-title { font-size: 2.8rem; line-height: 1.1; margin-bottom: 20px; }
    .hero-description { font-size: 1.1rem; margin-bottom: 32px; }
    .hero-actions { flex-direction: column; gap: 16px; align-items: center; }
    .hero-actions .btn-primary { width: 100%; max-width: 280px; min-height: 48px; font-size: 16px; }
    
    /* Features Grid Mobile */
    .features-grid { 
      grid-template-columns: 1fr; 
      gap: 24px; 
      margin-top: 40px; 
    }
    .feature-card { 
      transform: translateY(0) !important; 
      margin-bottom: 16px;
    }
    .feature-card:hover { transform: translateY(-4px) !important; }
    .feature-card h3 { font-size: 1.2rem; }
    .feature-card li { font-size: 0.95rem; line-height: 1.4; }
    
    /* Section Titles Mobile */
    .section-title { font-size: 2.2rem; margin-bottom: 16px; }
    .section-subtitle { font-size: 1.1rem; margin-bottom: 40px; }
    
    /* Perfect For Mobile */
    .perfect-for-title { font-size: 2.2rem; margin-bottom: 40px; }
    .perfect-for-item { 
      flex-direction: column; 
      text-align: center; 
      gap: 20px; 
      padding: 24px 20px; 
    }
    .perfect-for-item .item-content h3 { font-size: 1.2rem; }
    .perfect-for-item .item-content p { font-size: 1rem; line-height: 1.4; }
    .check-icon { width: 40px; height: 40px; font-size: 1.2rem; }
    
    /* Why Choose Mobile */
    .why-choose-grid { grid-template-columns: 1fr; gap: 24px; }
    .why-card-large { padding: 28px 20px; }
    .why-card-large h3 { font-size: 1.3rem; line-height: 1.2; }
    .why-card-large p { font-size: 1rem; line-height: 1.5; }
    .why-number { width: 44px; height: 44px; font-size: 1.2rem; }
    
    /* Waitlist Mobile */
    .waitlist h2 { font-size: 2.2rem; margin-bottom: 16px; }
    .waitlist p { font-size: 1.1rem; margin-bottom: 32px; }
    .email-signup { flex-direction: column; gap: 12px; }
    .email-input { 
      margin-bottom: 0; 
      min-height: 48px; 
      font-size: 16px; /* Prevent zoom on iOS */
    }
    .waitlist-form .btn-primary { width: 100%; min-height: 48px; }
    
    /* Cloud Features Mobile */
    .cloud-features { flex-direction: column; gap: 16px; align-items: center; }
    .feature-highlight { justify-content: center; }
    
    /* CTA Section Mobile */
    .cta h2 { font-size: 2.2rem; margin-bottom: 16px; }
    .cta p { font-size: 1.1rem; margin-bottom: 32px; }
    .deployment-options { 
      grid-template-columns: 1fr; 
      gap: 24px; 
      margin-top: 40px;
    }
    .deployment-option { 
      padding: 32px 24px;
    }
    .option-header { 
      flex-direction: column; 
      align-items: flex-start; 
      gap: 8px; 
    }
    .deployment-option .btn-primary { 
      min-height: 48px; 
    }
    
    /* Footer Mobile */
    .footer-content { flex-direction: column; gap: 20px; text-align: center; }
    .footer-social { justify-content: center; }
  }
  
  @media (max-width: 480px) {
    /* Extra Small Mobile */
    .hero-title { font-size: 2.4rem; }
    .hero-description { font-size: 1.05rem; }
    .section-title { font-size: 1.9rem; }
    .section-subtitle { font-size: 1rem; }
    
    .feature-card { padding: 20px 16px; }
    .perfect-for-item { padding: 20px 16px; }
    .why-card-large { padding: 24px 16px; }
    
    /* Improve touch targets */
    .mobile-menu-item { 
      min-height: 48px; 
      display: flex; 
      align-items: center; 
    }
    
    /* Optimize forms for small screens */
    .email-input { padding: 16px; }
  }
  
  @media (max-width: 768px) and (orientation: landscape) {
    /* Landscape mobile optimizations */
    .hero { min-height: 100vh; padding: 60px 0 30px; }
    .hero-title { font-size: 2.5rem; }
    .section { padding: 50px 0; }
  }

  /* Footer */
  .footer { padding: 60px 0 40px; background: rgba(0, 0, 0, 0.2); border-top: 1px solid rgba(255, 255, 255, 0.1); }
  .footer-content { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
  .footer-logo { font-size: 24px; font-weight: 700; }
  .footer-social { display: flex; gap: 20px; }
  .social-link { color: rgba(255, 255, 255, 0.7); transition: color 0.3s ease; }
  .social-link:hover { color: #00d4ff; }
  .footer-copyright { text-align: center; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
  .footer-copyright p { color: rgba(255, 255, 255, 0.6); font-size: 0.9rem; margin: 0; }

  @media (max-width: 768px) {
    .footer-content { flex-direction: column; gap: 20px; text-align: center; }
  }

  /* (Geometric icon styles unchanged) */
  /* ...keeping the rest of your original CSS for icons, grids, responsiveness, footer, and script... */
</style>

<script>
  // Performance optimized script with lazy loading and throttling
  (function() {
    'use strict';
    
    // Performance helper functions
    function throttle(func, limit) {
      let inThrottle;
      return function() {
        const args = arguments;
        const context = this;
        if (!inThrottle) {
          func.apply(context, args);
          inThrottle = true;
          setTimeout(() => inThrottle = false, limit);
        }
      }
    }
    
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }
    
    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
      initMobileMenu();
      initDropdownMenus();
      initWaitlistForm();
      initPerformanceOptimizations();
    });
    
    // Dropdown menu functionality
    function initDropdownMenus() {
      const dropdowns = document.querySelectorAll('.nav-dropdown');
      
      dropdowns.forEach(dropdown => {
        let hoverTimeout;
        
        dropdown.addEventListener('mouseenter', () => {
          clearTimeout(hoverTimeout);
          // Close all other dropdowns
          dropdowns.forEach(other => {
            if (other !== dropdown) {
              other.classList.remove('active');
            }
          });
          // Open this dropdown
          dropdown.classList.add('active');
        });
        
        dropdown.addEventListener('mouseleave', () => {
          hoverTimeout = setTimeout(() => {
            dropdown.classList.remove('active');
          }, 100); // Small delay to prevent flickering
        });
      });
      
      // Close dropdowns when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-dropdown')) {
          dropdowns.forEach(dropdown => {
            dropdown.classList.remove('active');
          });
        }
      });
    }

    // Mobile menu functionality
    function initMobileMenu() {
      const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
      const mobileMenu = document.querySelector('.mobile-menu');
      const mobileMenuItems = document.querySelectorAll('.mobile-menu-item');

      if (!mobileMenuToggle || !mobileMenu) return;

      // Toggle menu with proper ARIA attributes
      function toggleMenu(open) {
        const isOpen = open !== undefined ? open : !mobileMenu.classList.contains('active');
        
        mobileMenuToggle.classList.toggle('active', isOpen);
        mobileMenu.classList.toggle('active', isOpen);
        mobileMenuToggle.setAttribute('aria-expanded', isOpen.toString());
        
        // Prevent body scroll when menu is open
        document.body.style.overflow = isOpen ? 'hidden' : '';
      }

      mobileMenuToggle.addEventListener('click', () => toggleMenu());

      // Close menu when clicking menu items
      mobileMenuItems.forEach(item => {
        item.addEventListener('click', () => toggleMenu(false));
      });

      // Close menu when clicking outside (throttled for performance)
      const handleOutsideClick = throttle(function(e) {
        if (!mobileMenuToggle.contains(e.target) && !mobileMenu.contains(e.target)) {
          toggleMenu(false);
        }
      }, 100);
      
      document.addEventListener('click', handleOutsideClick);
      
      // Close menu on escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && mobileMenu.classList.contains('active')) {
          toggleMenu(false);
          mobileMenuToggle.focus();
        }
      });
    }

    // Waitlist form with enhanced error handling and validation
    function initWaitlistForm() {
      const waitlistForm = document.getElementById('waitlist-form');
      const formMessage = document.getElementById('form-message');
      const buttonText = document.querySelector('.button-text');
      const loadingSpinner = document.querySelector('.loading-spinner');
      const emailInput = waitlistForm?.querySelector('input[name="email"]');

      if (!waitlistForm || !formMessage || !buttonText || !loadingSpinner) return;

      // Email validation
      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }
      
      // Real-time email validation
      if (emailInput) {
        const validateEmail = debounce(function() {
          const email = emailInput.value.trim();
          const isValid = !email || isValidEmail(email);
          
          emailInput.style.borderColor = isValid ? '' : '#ff5252';
          emailInput.setAttribute('aria-invalid', (!isValid).toString());
        }, 300);
        
        emailInput.addEventListener('input', validateEmail);
      }

      waitlistForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = new FormData(waitlistForm);
        const email = formData.get('email')?.toString().trim();
        const honeypot = formData.get('honeypot');
        
        // Client-side validation
        if (!email || !isValidEmail(email)) {
          showMessage('Please enter a valid email address.', 'error');
          return;
        }
        
        // Bot detection
        if (honeypot) {
          showMessage('Thank you for your submission.', 'success');
          return;
        }
        
        setLoadingState(true);
        
        try {
          const scriptUrl = import.meta.env.PUBLIC_GOOGLE_APPS_SCRIPT_URL;
          
          if (!scriptUrl) {
            throw new Error('Configuration error. Please try again later.');
          }
          
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout
          
          const response = await fetch(scriptUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
              email,
              honeypot,
              origin: window.location.origin,
              timestamp: new Date().toISOString(),
              userAgent: navigator.userAgent.substring(0, 100) // Limited for privacy
            }),
            signal: controller.signal
          });
          
          clearTimeout(timeoutId);
          
          if (!response.ok) {
            throw new Error(`Server error: ${response.status}`);
          }
          
          const result = await response.json();
          
          if (result.success) {
            showMessage(result.message || 'Successfully joined the waitlist!', 'success');
            waitlistForm.reset();
            
            // Optional: Track conversion for analytics
            if (typeof gtag !== 'undefined') {
              gtag('event', 'conversion', { 'send_to': 'AW-CONVERSION_ID/CONVERSION_LABEL' });
            }
          } else {
            showMessage(result.message || 'Something went wrong. Please try again.', 'error');
          }
          
        } catch (error) {
          console.error('Form submission error:', error);
          
          let errorMessage = 'Network error. Please check your connection and try again.';
          
          if (error.name === 'AbortError') {
            errorMessage = 'Request timed out. Please try again.';
          } else if (error.message.includes('Configuration error')) {
            errorMessage = error.message;
          }
          
          showMessage(errorMessage, 'error');
        } finally {
          setLoadingState(false);
        }
      });
      
      function setLoadingState(loading) {
        buttonText.style.display = loading ? 'none' : 'inline';
        loadingSpinner.style.display = loading ? 'inline' : 'none';
        waitlistForm.querySelector('button[type="submit"]').disabled = loading;
      }
      
      function showMessage(message, type) {
        formMessage.textContent = message;
        formMessage.className = `form-message ${type}`;
        formMessage.style.display = 'block';
        
        // Announce to screen readers
        formMessage.setAttribute('role', type === 'error' ? 'alert' : 'status');
        formMessage.setAttribute('aria-live', 'polite');
        
        // Auto-hide success messages after 5 seconds
        if (type === 'success') {
          setTimeout(() => {
            if (formMessage.className.includes('success')) {
              formMessage.style.display = 'none';
            }
          }, 5000);
        }
      }
    }
    
    // Performance optimizations
    function initPerformanceOptimizations() {
      // Optimize animations for low-end devices
      if (navigator.hardwareConcurrency && navigator.hardwareConcurrency < 4) {
        document.documentElement.style.setProperty('--animation-duration', '0.1s');
      }
      
      // Lazy load non-critical images when they come into view
      if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.src = img.dataset.src;
              img.classList.remove('lazy');
              observer.unobserve(img);
            }
          });
        });
        
        document.querySelectorAll('img[data-src]').forEach(img => {
          imageObserver.observe(img);
        });
      }
      
      // Optimize scroll performance
      let ticking = false;
      function updateScrollState() {
        // Add scroll-based optimizations here if needed
        ticking = false;
      }
      
      function onScroll() {
        if (!ticking) {
          requestAnimationFrame(updateScrollState);
          ticking = true;
        }
      }
      
      window.addEventListener('scroll', onScroll, { passive: true });
    }
  })();
</script>
